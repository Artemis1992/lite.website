
### –í Django GET –∏ POST-–∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (views) –∏ —Ñ–æ—Ä–º. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö —Ä–∞–±–æ—Ç—É –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö.

# 1. GET-–∑–∞–ø—Ä–æ—Å –≤ Django

**GET-–∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–æ–π –∏–ª–∏ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.**

**–ü—Ä–∏–º–µ—Ä GET-–∑–∞–ø—Ä–æ—Å–∞ (–≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)**

```
from django.shortcuts import render
from .models import User

def user_list(request):
    users = User.objects.all()  # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –±–∞–∑—ã
    return render(request, 'users.html', {'users': users})
```

**üîπ –ó–¥–µ—Å—å ```request``` ‚Äî –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ GET-–∑–∞–ø—Ä–æ—Å–µ.**

**üîπ ```User.objects.all()``` ‚Äî –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –±–∞–∑—ã.**

**üîπ ```render()``` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —à–∞–±–ª–æ–Ω ```users.html```.**

### –®–∞–±–ª–æ–Ω (```users.html```):

```
<!DOCTYPE html>
<html>
<head><title>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title></head>
<body>
    <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
    <ul>
        {% for user in users %}
            <li>{{ user.username }}</li>
        {% endfor %}
    </ul>
</body>
</html>

```
**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
**–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ```/users/```, —Å–µ—Ä–≤–µ—Ä –¥–µ–ª–∞–µ—Ç GET-–∑–∞–ø—Ä–æ—Å, –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∏—Ö –≤ HTML.**


***
# 2. POST-–∑–∞–ø—Ä–æ—Å –≤ Django

**POST-–∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.**

### –ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞ (—Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞)


**–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–æ–º POST, –∏ —Å–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö.**

```
from django.shortcuts import render
from django.http import HttpResponse

def login_view(request):
    if request.method == 'POST':
        username = request.POST.get('username')  # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        password = request.POST.get('password')
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, –±–µ–∑ –ë–î)
        if username == 'admin' and password == '123':
            return HttpResponse(f'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {username}!')
        else:
            return HttpResponse('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å')
    
    return render(request, 'login.html')  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É, –µ—Å–ª–∏ GET-–∑–∞–ø—Ä–æ—Å
```
**–®–∞–±–ª–æ–Ω (```login.html```):**

```
<!DOCTYPE html>
<html>
<head><title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</title></head>
<body>
    <h2>–í—Ö–æ–¥</h2>
    <form method="post">
        {% csrf_token %}  <!-- –ó–∞—â–∏—Ç–∞ Django –æ—Ç –∞—Ç–∞–∫ CSRF -->
        <label>–õ–æ–≥–∏–Ω:</label>
        <input type="text" name="username"><br>
        <label>–ü–∞—Ä–æ–ª—å:</label>
        <input type="password" name="password"><br>
        <button type="submit">–í–æ–π—Ç–∏</button>
    </form>
</body>
</html>
```
**üîπ –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å GET, –ø—Ä–æ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ñ–æ—Ä–º—É.**

**üîπ –ï—Å–ª–∏ POST, –±–µ—Ä—ë–º ```username``` –∏ ```password``` –∏–∑ ```request.POST```, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –∏ –≤—ã–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç.**

**üîπ ```{% csrf_token %}``` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—â–∏—â–∞–µ—Ç —Ñ–æ—Ä–º—É –æ—Ç –∞—Ç–∞–∫ CSRF.**
***

# 3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π GET –∏ POST (—Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

**–ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ GET, –∏ POST –≤ –æ–¥–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.**

```
from django.shortcuts import render, redirect
from django.http import HttpResponse
from .models import User

def register(request):
    if request.method == 'POST':
        username = request.POST.get('username')
        password = request.POST.get('password')

        # –°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω—É–∂–µ–Ω —Ö–µ—à –ø–∞—Ä–æ–ª—è)
        User.objects.create(username=username, password=password)
        return HttpResponse('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!')

    return render(request, 'register.html')  # –ï—Å–ª–∏ GET-–∑–∞–ø—Ä–æ—Å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
```
üîπ User.objects.create(username=username, password=password) ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î.

üîπ –ï—Å–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!.

üîπ –ï—Å–ª–∏ GET-–∑–∞–ø—Ä–æ—Å, –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç—É—é —Ñ–æ—Ä–º—É.
***

# 4. GET —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–ø–æ–∏—Å–∫)
**Django –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ ```request.GET```.**

**–ü—Ä–∏–º–µ—Ä: –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏.**
```
def search_user(request):
    query = request.GET.get('q')  # –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä q –∏–∑ URL

    if query:
        users = User.objects.filter(username__icontains=query)  # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∏–º–µ–Ω–∏
    else:
        users = User.objects.all()  # –ï—Å–ª–∏ –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ—Ö

    return render(request, 'search.html', {'users': users})
```

**–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ ```http://127.0.0.1:8000/search?q=admin```, Django –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ ```admin```.**

**–®–∞–±–ª–æ–Ω (```search.html```):**
```
<form method="get">
    <input type="text" name="q" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
    <button type="submit">–ò—Å–∫–∞—Ç—å</button>
</form>

<ul>
    {% for user in users %}
        <li>{{ user.username }}</li>
    {% endfor %}
</ul>
```

**üîπ request.GET.get('q') –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ URL**.

**üîπ –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –µ—Å—Ç—å, –∏—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ username__icontains=query.**
***

## **–í—ã–≤–æ–¥**

| –ó–∞–ø—Ä–æ—Å | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ö–∞–∫ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ? | –ì–¥–µ –∏—Ö –±—Ä–∞—Ç—å –≤ Django? |
|--------|---------------------|------------------------|------------------------|
| **GET** | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü | –í URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `?q=python`) | `request.GET.get('param')` |
| **POST** | –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥ | –í —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (—Å–∫—Ä—ã—Ç–æ) | `request.POST.get('param')` |

**–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—ë—à—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, —Ñ–æ—Ä–º—ã) ‚Üí POST.**

**–ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—à—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–ª–∏ –∏—â–µ—à—å ‚Üí GET.**


